<div class="d-flex flex-wrap align-items-center justify-content-between gap-2 mb-3">
  <div>
    <h1 class="h3 mb-1">Categories</h1>
    <div class="text-muted small">Quản lý danh mục hiển thị cho người bán & bộ lọc trang Home.</div>
  </div>

  <%= link_to new_admin_category_path, class: "btn btn-primary rounded-pill" do %>
    <i class="bi bi-plus-lg me-1"></i> New category
  <% end %>
</div>

<div class="card border-0 shadow-sm" style="border-radius:16px;">
  <div class="card-body p-0">
    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0">
        <thead class="table-light">
          <tr>
            <th class="ps-3">Tên</th>
            <th style="width: 200px;" class="text-end pe-3">Hành động</th>
          </tr>
        </thead>

        <tbody>
          <% @categories.each do |c| %>
            <tr>
              <td class="ps-3">
                <div class="fw-semibold"><%= c.name %></div>
                <% if c.name.to_s.downcase.in?(%w[khác khac]) %>
                  <div class="text-muted small"></div>
                <% end %>
              </td>

              <td class="text-end text-nowrap">
                    <%= link_to edit_admin_category_path(c),
                            class: "btn btn-sm btn-primary me-1" do %>
                        Edit
                    <% end %>

                    <%= link_to admin_category_path(c),
                            data: {
                            turbo_method: :delete,
                            turbo_confirm: "Xoá danh mục “#{c.name}”?"
                            },
                            class: "btn btn-sm btn-danger" do %>
                            <i class="bi bi-trash3 me-1"></i> Delete
                    <% end %>
                </td>
            </tr>
          <% end %>

          <% if @categories.blank? %>
            <tr>
              <td colspan="2" class="text-center text-muted py-4">
                Chưa có category nào. Bấm “New category” để tạo.
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
