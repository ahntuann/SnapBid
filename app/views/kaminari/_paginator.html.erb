<%# frozen_string_literal: true %>

<% pages = [] %>
<% paginator.each_page { |p| pages << p } %>

<% if pages.size > 1 %>
  <nav aria-label="pager">
    <ul class="pagination justify-content-center gap-1 mb-0">

      <%# Prev %>
      <li class="page-item <%= 'disabled' if current_page.first? %>">
        <% if current_page.first? %>
          <span class="page-link">Trước</span>
        <% else %>
          <%= link_to "Trước", url_for(page: current_page.number - 1), class: "page-link" %>
        <% end %>
      </li>

      <%# Pages + gaps %>
      <% pages.each do |page| %>
        <% if page.left_outer? || page.right_outer? || page.inside_window? %>
          <% page_num = page.number %>
          <li class="page-item <%= 'active' if page_num == current_page.number %>">
            <%= link_to page_num, url_for(page: page_num), class: "page-link" %>
          </li>
        <% elsif !page.was_truncated? %>
          <li class="page-item disabled"><span class="page-link">…</span></li>
        <% end %>
      <% end %>

      <%# Next %>
      <li class="page-item <%= 'disabled' if current_page.last? %>">
        <% if current_page.last? %>
          <span class="page-link">Sau</span>
        <% else %>
          <%= link_to "Sau", url_for(page: current_page.number + 1), class: "page-link" %>
        <% end %>
      </li>

    </ul>
  </nav>
<% end %>
